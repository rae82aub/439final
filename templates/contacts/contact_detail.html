{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">

    <div class="card shadow-lg border-0 p-5"
         style="border-radius: 25px; max-width: 800px; margin:auto;">

        <!-- Profile Photo -->
        <div class="text-center">
            {% if doctor.profile_photo %}
                <img src="{{ doctor.profile_photo.url }}"
                     class="rounded-circle shadow"
                     style="width:150px; height:150px; object-fit:cover;">
            {% else %}
                <img src="{% static 'defaults/default_doctor.jpg' %}"
                     class="rounded-circle shadow"
                     style="width:150px; height:150px; object-fit:cover;">
            {% endif %}
        </div>

        <!-- Name + Specialty -->
        <h2 class="text-center mt-3 fw-bold">{{ doctor.name }}</h2>
        <p class="text-center text-muted" style="font-size:18px;">
            {{ doctor.speciality }}
        </p>

        <hr class="my-4">

        <!-- ALL Doctor Info -->
        <div class="px-3">

            <p><strong>City:</strong> {{ doctor.city }}</p>
            <p><strong>Hospital:</strong> {{ doctor.hospital }}</p>

            {% if doctor.fees %}
            <p><strong>Fees:</strong> ${{ doctor.fees }}</p>
            {% endif %}

            {% if doctor.rating %}
            <p><strong>Rating:</strong> {{ doctor.rating }}</p>
            {% endif %}

            {% if doctor.phone %}
            <p><strong>Phone:</strong> {{ doctor.phone }}</p>
            {% endif %}

            {% if doctor.description %}
            <p><strong>Biography:</strong> {{ doctor.description }}</p>
            {% endif %}
        </div>

        <hr class="my-4">

        <!-- Edit / Delete (Only Admin) -->
        {% if user.is_superuser %}
        <div class="d-flex justify-content-center gap-3 mb-4">
            <a href="{% url 'contact_update' doctor.id %}" 
               class="btn btn-warning px-4">Edit</a>

            <a href="{% url 'contact_delete' doctor.id %}" 
               class="btn btn-danger px-4">Delete</a>
        </div>
        {% endif %}

        <div class="text-center">
            <a href="{% url 'contact_list' %}"
               class="btn btn-secondary px-4"
               style="border-radius: 10px;">
               ‚Üê Back to Doctors
            </a>
        </div>

    </div>

</div>
{% endblock %}
