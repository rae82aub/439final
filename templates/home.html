{% extends "base.html" %}
{% block content %}

<div class="container py-5">

    <div class="text-center mb-5">
        <div class="rounded-circle bg-success bg-opacity-25 d-inline-flex justify-content-center align-items-center"
             style="width:110px; height:110px;">
            <i class="bi bi-heart-pulse-fill text-success" style="font-size:48px;"></i>
        </div>

    <h1 class="fw-bold text-black">
        Welcome back, {{ request.user.username }}!
    </h1>        
    <p class="text-muted">Your trusted space for health, guidance, and care.</p>
    </div>

    <div class="d-flex justify-content-center gap-3 flex-wrap mb-5">
        <a href="{% url 'contact_list' %}" class="btn btn-outline-success rounded-pill px-4">
            <i class="bi bi-person-badge"></i> Doctors
        </a>
        <a href="{% url 'find_medicine' %}" class="btn btn-outline-success rounded-pill px-4">
            <i class="bi bi-capsule"></i> Medicine
        </a>
        <a href="{% url 'assistant' %}" class="btn btn-outline-success rounded-pill px-4">
            <i class="bi bi-robot"></i> Assistant
        </a>
        <a href="{% url 'health_tips' %}" class="btn btn-outline-success rounded-pill px-4">
            <i class="bi bi-lightbulb"></i> Health Tips
        </a>
    </div>

    <div class="alert alert-success text-center shadow-sm rounded-pill fw-semibold py-3 mb-5">
        ðŸ’¡ Tip of the Day: {{ tip_of_the_day }}
    </div>
    {% if recent_doctors %}
<h3 class="fw-bold mt-5">Recently Viewed Doctors</h3>
<div class="row mt-3">
    {% for doc in recent_doctors %}
    <div class="col-md-4 mb-3">
        <a href="{% url 'contact_detail' doc.id %}" class="text-decoration-none">
            <div class="card shadow-sm p-3">
                <h5 class="fw-semibold">{{ doc.name }}</h5>
                <p class="text-muted small">{{ doc.speciality }}</p>
            </div>
        </a>
    </div>
    {% endfor %}
</div>
{% endif %}

{% if recent_medicines %}
<h3 class="fw-bold mt-5">Recently Viewed Medicines</h3>
<div class="row mt-3">
    {% for med in recent_medicines %}
    <div class="col-md-4 mb-3">
        <a href="{% url 'medicine_detail' med.id %}" class="text-decoration-none">
            <div class="card shadow-sm p-3">
                <h5 class="fw-semibold">{{ med.name }}</h5>
                <p class="text-muted small">{{ med.get_category_display }}</p>
            </div>
        </a>
    </div>
    {% endfor %}
</div>
{% endif %}

</div>

{% endblock %}
